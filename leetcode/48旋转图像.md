## 思路

要求不能使用一个新矩阵，首先想到的是交换两个元素.

要求对n*n的方阵旋转90度.

观察样例, 发现第一行变成最后一列,第二行变成倒数第二列,第三行变成倒数第3列 ... 

相应的, 倒数第3列变成第三行.

模拟一下, 直接做交换, 每个元素会不会做重复操作. 会出现问题, 因为第一行和最后一列是有重复元素的.

这种方式交换不太能行.

观察每个元素:

```c++
n = size-1;
[0][0] -> [n][0], [0][1]->[n-1][0], [0][n] -> [0][0]
[i][j] -> [n-j][i]
```

观察也没用

**正确的思路:**

先转置,再翻转每一行.

更通用的思路是,  **旋转数组,就是四个元素做交换**, 所以不能直接用一个swap来交换两个元素. **遍历到一个元素时,要做四个元素之间的交换, 所以只遍历矩阵的4分之1,避免重复交换.**

**出错的地方:**

矩阵转置都写不对了, 为了避免重复交换元素, 只操作主对角线右边的元素,也就是 j>i的元素.



## 代码

```c++
class Solution {
public:
    void rotate(vector<vector<int>>& matrix) {
        
        int n = matrix.size();

        for(int i=0;i<n;i++){
            for(int j=i+1;j<n;j++){
                swap(matrix[i][j], matrix[j][i]);
            }
        }

        for(int i=0;i<n;i++)
            for(int j=0;j<n/2;j++)
                swap(matrix[i][j], matrix[i][n-1-j]);

        return;
    }
};
```

